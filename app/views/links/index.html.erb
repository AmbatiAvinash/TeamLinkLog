<p id="notice"><%= notice %></p>

<%#
FIXME: Change the table format
TODO: Add bootstrap to the table
%>
<div class='container'>
  <h1>Links</h1>
  <%= link_to 'New Link', new_link_path, class: 'btn btn-success' %>
  <br>
  <br>
  <% if false %>
    <table class='table table-striped'>
      <thead>
        <tr>
          <th>Title</th>
          <th>Image</th>
          <th>Url</th>
          <th>Description</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @links.each do |link| %>
          <tr>
            <td><%= link.title %></td>
            <td><%= link.image %></td>
            <td><%= link.url %></td>
            <td><%= link.description %></td>
            <td><%= link_to 'Show', link %></td>
            <td><%= link_to 'Edit', edit_link_path(link) %></td>
            <td><%= link_to 'Destroy', link, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% end %>

  <div class='row'>
    <% @links.each do |link| %>
      <div class='col-md-4 d-flex align-items-center'>
        <div class="card" style="width: 18rem;">
          <img class="card-img-top" src=<%=link.image%> alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title"><%= truncate(link.title, :length => 25, :omission => '...') %></h5>
            <p class="card-text"><%= truncate(link.description, :length => 50, :omission => '...') %></p>
            <a href=<%=link.url%> target='_blank' class="btn btn-primary">Go to link</a>
            <%= link_to 'Edit', edit_link_path(link), class: 'btn btn-info btn-xs' %>
            <%= link_to 'Destroy', link, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger btn-xs'%>
          </div>
        </div>
      </div>
    <%end%>
  </div>
</div>