<p id="notice"><%= notice %></p>

<div class='container'>
  <h1>Links</h1>
  <%= link_to 'New Link', new_link_path, class: 'btn btn-success' %>
  <br>
  <br>
  <%= will_paginate @links, class:'pull-right' %>
  <br>
  <br>
  <div class='row'>
    <div class='col-md-2'>
        <ul class="nav flex-column">
          <li class="nav-item">
            <b class='nav-link'>Tags</b>
          </li>
          <li class="nav-item">
            <%= link_to 'All Tags', links_path, class:"nav-link"%>
          </li>
          <% all_tags().each do |tag| %>
            <li class="nav-item">
              <span class="nav-link"><%= tag %></span>
            </li>
          <%end%>
        </ul>
    </div>
    <div class='col-md-10 d-flex align-items-center'>
      <div class='row'>
        <% @links.each do |link| %>
          <div class='col-md-4'>
            <div class="card" style="width: 18rem;">
              <img class="card-img-top" src=<%=link.image ||= "https://placeimg.com/400/400/tech" %> alt="Card image cap">
              <div class="card-body">
                <h5 class="card-title"><%= truncate(link.title, :length => 25, :omission => '...') %></h5>
                <p class="card-text"><%= truncate(link.description, :length => 50, :omission => '...') %></p>
                <a href=<%=link.url%> target='_blank' class="btn btn-primary">Go to link</a>
                <%= link_to 'Edit', edit_link_path(link), class: 'btn btn-info btn-xs' %>
                <%= link_to 'Destroy', link, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger btn-xs'%>
              </div>
            </div>
          </div>
        <%end%>
      </div>
    </div>
  </div>
</div>